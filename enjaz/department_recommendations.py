"""
Department/Subject Recommendations Module for Enjaz Application.
Generates Arabic recommendations for departments/subjects based on completion rates.
"""


def get_subject_recommendation(completion_rate):
    """
    Generate recommendation for a subject based on its completion rate.
    
    Args:
        completion_rate: Subject's completion percentage (0-100)
    
    Returns:
        str: Arabic recommendation text for the subject
    """
    if completion_rate >= 90:
        return (
            "المادة حققت نسبة إنجاز مرتفعة جدًا في التقييمات الأسبوعية على نظام قطر للتعليم. "
            "يُوصى بدعم استدامة هذا المستوى عبر توثيق أفضل الممارسات وتعميمها بين الصفوف، "
            "مع الحرص على التواصل المستمر مع أولياء الأمور لتعزيز الشراكة التربوية. "
            "كما يُوصى بـ تذكير الطلاب دائمًا بحل التقييمات بنهاية كل حصة، "
            "ورقمنة استراتيجية الصفوف المقلوبة بتوظيف نظام قطر للتعليم."
        )
    elif completion_rate >= 75:
        return (
            "المادة أظهرت نسبة إنجاز جيدة جدًا مع فرصة للارتقاء إلى مستوى الامتياز. "
            "يُوصى بزيادة التحفيز والمتابعة، والتواصل مع أولياء الأمور لدعم انتظام الطلاب، "
            "مع التأكيد على تذكير الطلاب دائمًا بحل التقييمات بنهاية كل حصة، "
            "ورقمنة استراتيجية الصفوف المقلوبة بتوظيف نظام قطر للتعليم."
        )
    elif completion_rate >= 60:
        return (
            "متوسط الإنجاز في المادة يعكس تفاعلًا مقبولًا مع التقييمات الأسبوعية، "
            "لكنه بحاجة إلى دفع إضافي. يُوصى بتعزيز المتابعة والتواصل مع أولياء الأمور "
            "لرفع مستوى الالتزام، مع الاستمرار في تذكير الطلاب دائمًا بحل التقييمات بنهاية كل حصة، "
            "ورقمنة استراتيجية الصفوف المقلوبة بتوظيف نظام قطر للتعليم."
        )
    elif completion_rate >= 40:
        return (
            "نسبة الإنجاز متوسطة منخفضة وتحتاج إلى رفع. يُوصى بزيادة المتابعة من القسم "
            "والتواصل مع أولياء الأمور لتحفيز الطلاب على الالتزام، مع التشديد على تذكير الطلاب "
            "دائمًا بحل التقييمات بنهاية كل حصة، ورقمنة استراتيجية الصفوف المقلوبة بتوظيف نظام قطر للتعليم."
        )
    elif completion_rate > 0:
        return (
            "المادة أظهرت ضعفًا في إنجاز التقييمات الأسبوعية. يُوصى بتدخل مباشر من القسم "
            "مع تفعيل التواصل مع أولياء الأمور بشكل منتظم لتعزيز التزام الطلاب، "
            "مع التركيز على تذكير الطلاب دائمًا بحل التقييمات بنهاية كل حصة، "
            "ورقمنة استراتيجية الصفوف المقلوبة بتوظيف نظام قطر للتعليم."
        )
    else:  # 0%
        return (
            "لم يتم تسجيل أي إنجاز في التقييمات الأسبوعية لهذه المادة. "
            "يُوصى بمتابعة عاجلة من القسم، مع تكثيف التواصل مع أولياء الأمور "
            "لتوضيح أهمية الالتزام بالنظام، والتركيز على تذكير الطلاب دائمًا بحل التقييمات بنهاية كل حصة، "
            "ورقمنة استراتيجية الصفوف المقلوبة بتوظيف نظام قطر للتعليم."
        )


def get_recommendation_category(completion_rate):
    """
    Get the recommendation category based on completion rate.
    
    Args:
        completion_rate: Completion percentage (0-100)
    
    Returns:
        str: Category name with emoji
    """
    if completion_rate >= 90:
        return "✅ ممتاز جدًا"
    elif completion_rate >= 75:
        return "🌟 جيد جدًا"
    elif completion_rate >= 60:
        return "👍 جيد"
    elif completion_rate >= 40:
        return "🟠 يحتاج إلى تحسين"
    elif completion_rate > 0:
        return "🔴 ضعيف"
    else:
        return "⭕ انعدام الإنجاز"


# Predefined recommendations list for dropdown selection
PREDEFINED_RECOMMENDATIONS = [
    "يُوصى بتذكير الطلاب دائمًا بحل التقييمات بنهاية كل حصة",
    "يُوصى برقمنة استراتيجية الصفوف المقلوبة بتوظيف نظام قطر للتعليم",
    "يُوصى بالتواصل المستمر مع أولياء الأمور لتعزيز الشراكة التربوية",
    "يُوصى بتوثيق أفضل الممارسات وتعميمها بين الصفوف",
    "يُوصى بزيادة التحفيز والمتابعة للطلاب",
    "يُوصى بتعزيز المتابعة والتواصل مع أولياء الأمور",
    "يُوصى بتدخل مباشر من القسم مع تفعيل التواصل مع أولياء الأمور",
    "يُوصى بمتابعة عاجلة من القسم",
    "يُوصى بعقد اجتماعات دورية مع المعلمين لمناقشة التحديات",
    "يُوصى بتنظيم ورش عمل للطلاب حول أهمية التقييمات الأسبوعية",
]

